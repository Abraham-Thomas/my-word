# Yahoo军规

### 1、尽可能的减少HTTP的请求数。

### 2、使用CDN（内容分发网络）

​	CDN：Content Delivery Network，内容分发网络，尽可能避开互联网上有可能影响数据传输速率和稳定性的瓶颈和环节。使用户就近取得资源，避免网络拥挤。

### 3、添加Expire/Cache-Control头

​	expire头的内容是一个时间值，值就是资源在本地的过期时间、存在本地。在本地缓存阶段，找到一个对应的资源值，当前时间还没过过期时间，就直接使用这个资源，不会发送http请求。

​	Cache-Control，是http协议中常用的头部之一，负责控制页面的缓存机制，如果该头部指示缓存，缓存的内容也会存在本地，操作流程和expire相似，不过Cache-Control有更多的选项。

### 4、启用Gzip压缩

​	简单来说，在服务器上先把文件压缩一下，浏览器请求时再将文件解压。

### 5、将CSS放在页面最上面

### 6、将CSS放在页面最上面

对于第5、6两点，HTTP2使得每个文件都有了自己的优先级，并可以通过服务器来动态改变，服务器可以优先传输CSS文件保证页面的渲染，然后在CSS文件全部传输完成后加载JS文件。这和我们前端一些优化规则有点相背离，使用HTTP2的情况下CSS文件就不一定要写在HTML的顶部了，JS也不一定要写在HTML底部，HTTP2的服务器自动能规划好。

### 7、避免在CSS中使用EXpressions，也就是CSS表达式

### 8、将JS和CSS作为外部文件

结合实际情况，有的时候需要将样式以内联形式写出。

### 9、减少DNS查询

分配文件的方式，单域还是多域，根据实际情况调整。

### 10、压缩JS与CSS

### 11、避免重定向

重定向，原始请求被重新转向到了其他请求。重定向状态码：301，302.

​	301：用户请求的页面被移动到了其他位置（永久重定向）

​	302：用户请求的页面被找到了，但不在原始位置（临时重定向）

对于用户来说，没什么区别，都是要重新请求地址。

### 12、移除重复脚本

### 13、配置实体标签（ETag）

ETag，对象（如URL）的标志值，属于HTTP协议，受Web服务器支持。一个对象（如HTML文件）如果被修改了，其ETag值也会被修改，所以ETag的作用和Last-Modified差不多，主要供Web服务器判断一个对象是否改变。

### 14、使用Ajax缓存



（以上军规做参考，实际情况实时使用）